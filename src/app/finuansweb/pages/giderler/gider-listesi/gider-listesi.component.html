<div #stateHolder>
  <div class="col-lg-12 n-p fn-container">
    <div class="col-lg-12 main-area" [hidden]="state !== 0">
      <div class="fn-header">
        <span class="main" *ngIf="state === 0">Giderler
          <i class="anticon anticon-right"></i>
          <b> Gider Listesi</b>
        </span>
      </div>
      <div class="fn-button-holder">
        <button class="fn-button">
          <i class="anticon anticon-bars"></i>
          <span>İşlemler</span>
        </button>
        <div class="fn-dropdown">
          <span (click)="newItem('FIS')"> Yeni Fiş/Fatura</span>
          <span (click)="newItem('MAAS')"> Yeni Maaş/Prim</span>
          <span (click)="newItem('VERGI')"> Yeni Vergi/SGK Primi</span>
          <span (click)="newItem('BANKA')"> Yeni Banka Gideri</span>
        </div>
      </div>
      <app-fn-grid (rowClick)="handleItem($event)" [dataSource]="dataSource" [dataFields]="dataFields"></app-fn-grid>
    </div>

    <div class="col-lg-12" *ngIf="state !== 0 && stateType == 'FIS'">
      <div class="edit-area">
        <div class="fn-header">
          <span class="main" *ngIf="state === 1">Giderler
            <i class="anticon anticon-right"></i> Gider Listesi
            <i class="anticon anticon-right"></i>
            <b> Yeni Fiş/Fatura</b>
          </span>
          <span class="main" *ngIf="state === 2">Giderler
            <i class="anticon anticon-right"></i> Gider Listesi
            <i class="anticon anticon-right"></i>
            <b> Fiş/Fatura Düzenle</b>
          </span>
          <div class="fn-form-buttons">
            <button class="fn-close" (click)="cancelOperation()">Vazgeç</button>
            <button class="fn-ok" (click)="saveItem()">Kaydet</button>
          </div>
        </div>
        <div class="form-holder">
          <div class="col-lg-6">
            <dx-form class="form-element" [formData]="selectedItem" labelLocation="top" [colCount]="4">
              <dxi-item dataField="Aciklama" [colSpan]="4" [label]="{text: 'Açıklaması'}"></dxi-item>
              <dxi-item dataField="KategoriID" [colSpan]="1" [label]="{text: 'Kategori'}" editorType="dxSelectBox" [editorOptions]="{ items: categories, displayExpr:'Adi', valueExpr:'ID' }"></dxi-item>
              <dxi-item dataField="EtiketID" [colSpan]="1" [label]="{text: 'Etiket'}" editorType="dxSelectBox" [editorOptions]="{ items: tags, displayExpr:'Adi', valueExpr:'ID' }"></dxi-item>
              <dxi-item dataField="BelgeTarihi" [colSpan]="2" [label]="{text: 'Belge Tarihi'}" editorType="dxDateBox" [editorOptions]="{ width: '100%'}"></dxi-item>
              <dxi-item dataField="Tutar" [label]="{text: 'Toplam Tutar'}"></dxi-item>
              <dxi-item dataField="DovizCinsi" [colSpan]="1" [label]="{text: 'Döviz'}" editorType="dxSelectBox" [editorOptions]="{ items: currencies, displayExpr:'Adi', valueExpr:'ID' }"></dxi-item>
              <dxi-item dataField="OdemeDurumu" [colSpan]="2" [label]="{text: 'Ödeme Durumu'}" editorType="dxSelectBox" [editorOptions]="{ items: paymentStates, displayExpr:'Name', valueExpr:'ID' }"></dxi-item>
            </dx-form>
          </div>
          <div class="fn-grid-holder">
            <dx-data-grid id="gridContainer" [dataSource]="dataSource2" noDataText="Kayıt Bulunamadı">
              <dxo-editing mode="cell" [allowUpdating]="true"> </dxo-editing>
              <dxi-column dataField="Aciklama" caption="Açıklama"></dxi-column>
              <dxi-column dataField="Miktar" caption="Miktar"></dxi-column>
              <dxi-column dataField="Birim" caption="Birim"></dxi-column>
              <dxi-column dataField="BirimFiyat" caption="Br. Fiyat"></dxi-column>
              <dxi-column dataField="VergiOran" caption="Vergi Oranı"></dxi-column>
            </dx-data-grid>
            <div style="margin-top: 10px !important;">
              <div class="col-lg-3 n-p">
                <button (click)="addRow()" class="fn-button transparent">
                  <i class="anticon anticon-plus-circle-o"></i>Yeni Satır Ekle</button>
              </div>
              <div class="col-lg-4 col-lg-offset-5 fn-bill">
                <div class="col-lg-12 n-p">
                  <span class="col-lg-8 n-p">Ara Toplam</span>
                  <span class="col-lg-4">0,00TL</span>
                </div>
                <div class="col-lg-12 n-p">
                  <span class="col-lg-8 n-p">Toplam KDV</span>
                  <span class="col-lg-4">0,00TL</span>
                </div>
                <div class="col-lg-12 n-p">
                  <span class="col-lg-8 n-p">Genel Toplam</span>
                  <span class="col-lg-4">0,00TL</span>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="col-lg-12" *ngIf="state !== 0 && stateType == 'VERGI'">
      <div class="edit-area">
        <div class="fn-header">
          <span class="main" *ngIf="state === 1">Giderler
            <i class="anticon anticon-right"></i> Gider Listesi
            <i class="anticon anticon-right"></i>
            <b> Yeni Vergi</b>
          </span>
          <span class="main" *ngIf="state === 2">Giderler
            <i class="anticon anticon-right"></i> Gider Listesi
            <i class="anticon anticon-right"></i>
            <b> Vergi Düzenle</b>
          </span>
          <div class="fn-form-buttons">
            <button class="fn-close" (click)="cancelOperation()">Vazgeç</button>
            <button class="fn-ok" (click)="saveItem()">Kaydet</button>
          </div>
        </div>
        <div class="form-holder col-lg-12">
          <div class="col-lg-12">
            <dx-form class="form-element" [formData]="selectedItem" labelLocation="top" [colCount]="4">
              <dxi-item dataField="Aciklama" [colSpan]="2" [label]="{text: 'Açıklama'}"></dxi-item>
              <dxi-item dataField="KategoriID" [colSpan]="2" [label]="{text: 'Kategori'}" editorType="dxSelectBox" [editorOptions]="{ items: categories, displayExpr:'Adi', valueExpr:'ID' }"></dxi-item>
              <dxi-item dataField="EtiketID" [colSpan]="2" [label]="{text: 'Etiket'}" editorType="dxSelectBox" [editorOptions]="{ items: tags, displayExpr:'Adi', valueExpr:'ID' }"></dxi-item>
              <dxi-item dataField="HesapTipi" [colSpan]="1" [label]="{text: 'Hesap Tipi'}" editorType="dxSelectBox" [editorOptions]="{ items: accountTypes, displayExpr:'Name', valueExpr:'ID' }"></dxi-item>
              <dxi-item dataField="HesapID" [colSpan]="1" [label]="{text: 'Hesap'}" editorType="dxSelectBox" [editorOptions]="{ items: accounts, displayExpr:'HesapAdi', valueExpr:'ID' }"></dxi-item>
              <dxi-item dataField="Tutar" [colSpan]="1" [label]="{text: 'Tutar'}"></dxi-item>
              <dxi-item dataField="DovizCinsi" [colSpan]="1" [label]="{text: 'Döviz'}" editorType="dxSelectBox" [editorOptions]="{ items: currencies, displayExpr:'Adi', valueExpr:'ID' }"></dxi-item>
              <dxi-item dataField="item2" [colSpan]="2" [label]="{text: 'Vergi Dönemi'}" editorType="dxDateBox" [editorOptions]="{ width: '100%'}"></dxi-item>
              <dxi-item dataField="item3" [label]="{text: 'Toplam Tutar'}"></dxi-item>
              <dxi-item dataField="item5" [label]="{text: 'Ödeme Durumu'}"></dxi-item>
              <dxi-item dataField="item5" [label]="{text: 'Ödeme Tarihi'}"></dxi-item>
            </dx-form>
          </div>
        </div>
      </div>
    </div>

    <div class="col-lg-12" *ngIf="state !== 0 && stateType == 'BANKA'">
      <div class="edit-area">
        <div class="fn-header">
          <span class="main" *ngIf="state === 1">Giderler
            <i class="anticon anticon-right"></i> Gider Listesi
            <i class="anticon anticon-right"></i>
            <b> Yeni Banka Gideri</b>
          </span>
          <span class="main" *ngIf="state === 2">Giderler
            <i class="anticon anticon-right"></i> Gider Listesi
            <i class="anticon anticon-right"></i>
            <b> Banka Gideri Düzenle</b>
          </span>
          <div class="fn-form-buttons">
            <button class="fn-close" (click)="cancelOperation()">Vazgeç</button>
            <button class="fn-ok" (click)="saveItem()">Kaydet</button>
          </div>
        </div>
        <div class="form-holder col-lg-12">
          <div class="col-lg-12">
            <dx-form class="form-element" [formData]="selectedItem" labelLocation="top" [colCount]="4">
              <dxi-item dataField="Aciklama" [colSpan]="2" [label]="{text: 'Açıklama'}"></dxi-item>
              <dxi-item dataField="KategoriID" [colSpan]="2" [label]="{text: 'Kategori'}" editorType="dxSelectBox" [editorOptions]="{ items: categories, displayExpr:'Adi', valueExpr:'ID' }"></dxi-item>
              <dxi-item dataField="EtiketID" [colSpan]="2" [label]="{text: 'Etiket'}" editorType="dxSelectBox" [editorOptions]="{ items: tags, displayExpr:'Adi', valueExpr:'ID' }"></dxi-item>
              <dxi-item dataField="HesapTipi" [colSpan]="1" [label]="{text: 'Hesap Tipi'}" editorType="dxSelectBox" [editorOptions]="{ items: accountTypes, displayExpr:'Name', valueExpr:'ID' }"></dxi-item>
              <dxi-item dataField="HesapID" [colSpan]="1" [label]="{text: 'Hesap'}" editorType="dxSelectBox" [editorOptions]="{ items: accounts, displayExpr:'HesapAdi', valueExpr:'ID' }"></dxi-item>
              <dxi-item dataField="Tutar" [colSpan]="1" [label]="{text: 'Tutar'}"></dxi-item>
              <dxi-item dataField="DovizCinsi" [colSpan]="1" [label]="{text: 'Döviz'}" editorType="dxSelectBox" [editorOptions]="{ items: currencies, displayExpr:'Adi', valueExpr:'ID' }"></dxi-item>
              <dxi-item dataField="OdemeDurumu" [colSpan]="2" [label]="{text: 'Ödeme Durumu'}" editorType="dxSelectBox" [editorOptions]="{ items: paymentStates, displayExpr:'Name', valueExpr:'ID' }"></dxi-item>
            </dx-form>
          </div>
        </div>
      </div>
    </div>

    <div class="col-lg-12" *ngIf="state !== 0 && stateType == 'MAAS'">
      <div class="edit-area">
        <div class="fn-header">
          <span class="main" *ngIf="state === 1">Giderler
            <i class="anticon anticon-right"></i> Gider Listesi
            <i class="anticon anticon-right"></i>
            <b> Yeni Maaş Gideri</b>
          </span>
          <span class="main" *ngIf="state === 2">Giderler
            <i class="anticon anticon-right"></i> Gider Listesi
            <i class="anticon anticon-right"></i>
            <b> Maaş Gideri Düzenle</b>
          </span>
          <div class="fn-form-buttons">
            <button class="fn-close" (click)="cancelOperation()">Vazgeç</button>
            <button class="fn-ok" (click)="saveItem()">Kaydet</button>
          </div>
        </div>
        <div class="form-holder col-lg-12">
          <div class="col-lg-12">
            <dx-form class="form-element" [formData]="selectedItem" labelLocation="top" [colCount]="4">
              <dxi-item dataField="Aciklama" [colSpan]="2" [label]="{text: 'Açıklama'}"></dxi-item>
              <dxi-item dataField="KategoriID" [colSpan]="2" [label]="{text: 'Kategori'}" editorType="dxSelectBox" [editorOptions]="{ items: categories, displayExpr:'Adi', valueExpr:'ID' }"></dxi-item>
              <dxi-item dataField="EtiketID" [colSpan]="2" [label]="{text: 'Etiket'}" editorType="dxSelectBox" [editorOptions]="{ items: tags, displayExpr:'Adi', valueExpr:'ID' }"></dxi-item>
              <dxi-item dataField="HesapTipi" [colSpan]="1" [label]="{text: 'Hesap Tipi'}" editorType="dxSelectBox" [editorOptions]="{ items: accountTypes, displayExpr:'Name', valueExpr:'ID' }"></dxi-item>
              <dxi-item dataField="HesapID" [colSpan]="1" [label]="{text: 'Hesap'}" editorType="dxSelectBox" [editorOptions]="{ items: accounts, displayExpr:'HesapAdi', valueExpr:'ID' }"></dxi-item>
              <dxi-item dataField="Tutar" [colSpan]="1" [label]="{text: 'Tutar'}"></dxi-item>
              <dxi-item dataField="DovizCinsi" [colSpan]="1" [label]="{text: 'Döviz'}" editorType="dxSelectBox" [editorOptions]="{ items: currencies, displayExpr:'Adi', valueExpr:'ID' }"></dxi-item>
              <dxi-item dataField="OdemeDurumu" [colSpan]="2" [label]="{text: 'Ödeme Durumu'}" editorType="dxSelectBox" [editorOptions]="{ items: paymentStates, displayExpr:'Name', valueExpr:'ID' }"></dxi-item>
            </dx-form>
          </div>
        </div>
      </div>
    </div>

    <div class="col-lg-12" *ngIf="state !== 0 && stateType == 'AVANS'">
      <div class="edit-area">
        <div class="fn-header">
          <span class="main" *ngIf="state === 1">Giderler
            <i class="anticon anticon-right"></i> Gider Listesi
            <i class="anticon anticon-right"></i>
            <b> Yeni Avans Gideri</b>
          </span>
          <span class="main" *ngIf="state === 2">Giderler
            <i class="anticon anticon-right"></i> Gider Listesi
            <i class="anticon anticon-right"></i>
            <b> Avans Gideri Düzenle</b>
          </span>
          <div class="fn-form-buttons">
            <button class="fn-close" (click)="cancelOperation()">Vazgeç</button>
            <button class="fn-ok" (click)="saveItem()">Kaydet</button>
          </div>
        </div>
        <div class="form-holder col-lg-12">
          <div class="col-lg-12">
            <dx-form class="form-element" [formData]="selectedItem" labelLocation="top" [colCount]="4">
              <dxi-item dataField="Aciklama" [colSpan]="2" [label]="{text: 'Açıklama'}"></dxi-item>
              <dxi-item dataField="KategoriID" [colSpan]="2" [label]="{text: 'Kategori'}" editorType="dxSelectBox" [editorOptions]="{ items: categories, displayExpr:'Adi', valueExpr:'ID' }"></dxi-item>
              <dxi-item dataField="EtiketID" [colSpan]="2" [label]="{text: 'Etiket'}" editorType="dxSelectBox" [editorOptions]="{ items: tags, displayExpr:'Adi', valueExpr:'ID' }"></dxi-item>
              <dxi-item dataField="HesapTipi" [colSpan]="1" [label]="{text: 'Hesap Tipi'}" editorType="dxSelectBox" [editorOptions]="{ items: accountTypes, displayExpr:'Name', valueExpr:'ID' }"></dxi-item>
              <dxi-item dataField="HesapID" [colSpan]="1" [label]="{text: 'Hesap'}" editorType="dxSelectBox" [editorOptions]="{ items: accounts, displayExpr:'HesapAdi', valueExpr:'ID' }"></dxi-item>
              <dxi-item dataField="Tutar" [colSpan]="1" [label]="{text: 'Tutar'}"></dxi-item>
              <dxi-item dataField="DovizCinsi" [colSpan]="1" [label]="{text: 'Döviz'}" editorType="dxSelectBox" [editorOptions]="{ items: currencies, displayExpr:'Adi', valueExpr:'ID' }"></dxi-item>
              <dxi-item dataField="OdemeDurumu" [colSpan]="2" [label]="{text: 'Ödeme Durumu'}" editorType="dxSelectBox" [editorOptions]="{ items: paymentStates, displayExpr:'Name', valueExpr:'ID' }"></dxi-item>
            </dx-form>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>