<div #stateHolder>
  <div class="col-lg-12 n-p fn-container">
    <div class="col-lg-12 main-area" [hidden]="state !== 0">
      <div class="fn-header">
        <span class="main">NAKİT
          <i class="anticon anticon-right"></i>
          <b> KASA VE BANKALAR</b>
        </span>
      </div>
      <div class="fn-button-holder">
        <button class="fn-button">
          <i class="anticon anticon-bars"></i>
          <span>İşlemler</span>
        </button>
        <div class="fn-dropdown">
          <span (click)="newItem('KASA')">Yeni Kasa</span>
          <span (click)="newItem('BANKA')">Yeni Banka</span>
        </div>
      </div>
      <app-fn-grid (rowClick)="handleItem($event)" [dataSource]="dataSource" [dataFields]="dataFields"></app-fn-grid>
    </div>

    <div class="col-lg-12" *ngIf="state !== 0">
      <div class="fn-header">
        <span class="main" *ngIf="state === 1">NAKİT
          <i class="anticon anticon-right"></i> KASA VE BANKALAR
          <i class="anticon anticon-right"></i>
          <b *ngIf="stateType == 'KASA'"> YENİ KASA</b>
          <b *ngIf="stateType == 'BANKA'"> YENİ BANKA</b>
        </span>
        <span class="main" *ngIf="state === 2">NAKİT
          <i class="anticon anticon-right"></i> KASA VE BANKALAR
          <i class="anticon anticon-right"></i>
          <b *ngIf="stateType == 'KASA'"> KASA DÜZENLE</b>
          <b *ngIf="stateType == 'BANKA'"> BANKA DÜZENLE</b>
        </span>
        <div class="fn-form-buttons">
          <button class="fn-close" (click)="cancelOperation()">Vazgeç</button>
          <button class="fn-ok" (click)="saveItem()">Kaydet</button>
        </div>
      </div>
      <div class="fn-form-holder">
        <div class="col-lg-6">
          <dx-form class="form-element" *ngIf="stateType == 'KASA'" [formData]="selectedItem" labelLocation="top" [colCount]="4">
            <dxi-item dataField="HesapAdi" [colSpan]="2" [label]="{text: 'Hesap Adı'}"></dxi-item>
            <dxi-item dataField="KategoriID" [colSpan]="2" [label]="{text: 'Kategori'}" editorType="dxSelectBox" [editorOptions]="{ items: categories, displayExpr:'Adi', valueExpr:'ID' }"></dxi-item>
            <dxi-item dataField="AcilisBakiyesi" [colSpan]="1" [label]="{text: 'Açılış Bakiyesi'}"></dxi-item>
            <dxi-item dataField="DovizCinsi.ID" [colSpan]="1" [label]="{text: 'Döviz'}" editorType="dxSelectBox" [editorOptions]="{ items: currencies, displayExpr:'Adi', valueExpr:'ID' }"></dxi-item>
            <dxi-item dataField="AcilisTarihi" [colSpan]="2" [label]="{text: 'Açılış Tarihi'}" editorType="dxDateBox" [editorOptions]="{ width: '100%'}"></dxi-item>
          </dx-form>
          <dx-form class="form-element" *ngIf="stateType == 'BANKA'" [formData]="selectedItem" labelLocation="top" [colCount]="4">
            <dxi-item dataField="HesapAdi" [colSpan]="2" [label]="{text: 'Hesap Adı'}"></dxi-item>
            <dxi-item dataField="KategoriID" [colSpan]="2" [label]="{text: 'Kategori'}" editorType="dxSelectBox" [editorOptions]="{ items: categories, displayExpr:'Adi', valueExpr:'ID' }"></dxi-item>
            <dxi-item dataField="AcilisBakiye" [colSpan]="1" [label]="{text: 'Açılış Bakiyesi'}"></dxi-item>
            <dxi-item dataField="DovizCinsi.ID" [colSpan]="1" [label]="{text: 'Döviz'}" editorType="dxSelectBox" [editorOptions]="{ items: currencies, displayExpr:'Adi', valueExpr:'ID' }"></dxi-item>
            <dxi-item dataField="AcilisTarihi" [colSpan]="2" [label]="{text: 'Açılış Bakiyesi Tarihi'}" editorType="dxDateBox" [editorOptions]="{ width: '100%'}"></dxi-item>
            <dxi-item dataField="BankaAdi" [colSpan]="2" [label]="{text: 'Banka Adı'}"></dxi-item>
            <dxi-item dataField="SubeAdi" [colSpan]="2" [label]="{text: 'Şube Adı'}"></dxi-item>
            <dxi-item dataField="HesapNumarasi" [colSpan]="2" [label]="{text: 'Hesap Numarası'}"></dxi-item>
            <dxi-item dataField="IBAN" [colSpan]="2" [label]="{text: 'IBAN'}"></dxi-item>
          </dx-form>
        </div>
        <div class="fn-right-side col-lg-6">
          <div class="fn-info col-lg-12 n-p">
            <span>Son İşlemler</span>
            <dx-data-grid class="fn-grid" [dataSource]="info" noDataText="Kayıt Bulunamadı">
              <dxi-column dataField="Aciklama" caption="Açıklama"></dxi-column>
              <dxi-column dataField="IslemTuru" caption="İşlem"></dxi-column>
              <dxi-column dataField="Meblag" caption="Meblağ"></dxi-column>
              <dxi-column dataField="Bakiye" caption="Bakiye"></dxi-column>
              <dxo-summary>
                <dxi-total-item column="Bakiye" summaryType="sum" displayFormat="Toplam: {0}"></dxi-total-item>
              </dxo-summary>
            </dx-data-grid>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>